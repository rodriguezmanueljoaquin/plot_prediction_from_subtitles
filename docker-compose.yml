version: "3.8"

services:
  movies-plot-prediction:
    container_name: movies-plot-prediction
    build: 
      context: .
      dockerfile: Dockerfile
    image: movies-plot-prediction
    volumes:
      - ./code:/opt/movies/code
      - ./data:/opt/movies/data
      - ./runs:/opt/movies/runs
    deploy:
      resources:
        limits:
          cpus: "0.75"
          memory: "8G"
        reservations:
          devices:
            - driver: nvidia
              capabilities: [gpu]
              count: 1
      